<div class ="push"></div>
<div *ngIf="auth.user$ | async as user; else login">
  <p id="popularTitle">{{user.displayName}}'s Watchlist</p>
  <div class ="push"></div>
 
  <div class="popDisplay">
    <div *ngFor="let movie of movies">
      <div class="card">
        <span a class="overlay" [routerLink]="['/movie',movie.id]">
          <span class="movie">
            <h2>{{movie.title}}</h2>
            <span *ngIf="movie.vote_average">  
              <p id="rating">Rating: <span id = "r"> {{movie.vote_average}} / 10</span></p>
            </span>
          </span>
        </span>
        <img src="{{'http://image.tmdb.org/t/p/w342' + movie.poster_path}}">
      </div>
    </div>
  </div>
</div>
<div class ="push"></div>
<button mat-raised-button class="button" (click)="auth.signOut()" color="primary">Sign Out</button>


<ng-template #login>
  <p id="popularTitle">Welcome</p>
  <button mat-raised-button id = "loginB"class="button" (click)="auth.googleSignin()" color="primary">Login with Google</button>

</ng-template>